import{j as K,S as dt,R as W}from"./index-70380d9b.js";const Rt=({isLoading:e=!1,...i})=>{const s=((i==null?void 0:i.className)||"").concat("  disabled:bg-yellow-300 btn w-full btn-primary flex  btn-blockitems-center");return K.jsx("button",{...i,className:s,disabled:e,children:e?K.jsx("span",{className:"text-center",children:K.jsx(dt,{})}):i.children})};var ae=e=>e.type==="checkbox",Z=e=>e instanceof Date,L=e=>e==null;const Ge=e=>typeof e=="object";var E=e=>!L(e)&&!Array.isArray(e)&&Ge(e)&&!Z(e),yt=e=>E(e)&&e.target?ae(e.target)?e.target.checked:e.target.value:e,ht=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,gt=(e,i)=>e.has(ht(i)),le=e=>Array.isArray(e)?e.filter(Boolean):[],D=e=>e===void 0,f=(e,i,s)=>{if(!i||!E(e))return s;const o=le(i.split(/[,[\].]+?/)).reduce((r,a)=>L(r)?r:r[a],e);return D(o)||o===e?D(e[i])?s:e[i]:o};const Ie={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},M={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},H={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};W.createContext(null);var vt=(e,i,s,o=!0)=>{const r={defaultValues:i._defaultValues};for(const a in e)Object.defineProperty(r,a,{get:()=>{const h=a;return i._proxyFormState[h]!==M.all&&(i._proxyFormState[h]=!o||M.all),s&&(s[h]=!0),e[h]}});return r},U=e=>E(e)&&!Object.keys(e).length,bt=(e,i,s,o)=>{s(e);const{name:r,...a}=e;return U(a)||Object.keys(a).length>=Object.keys(i).length||Object.keys(a).find(h=>i[h]===(!o||M.all))},we=e=>Array.isArray(e)?e:[e];function xt(e){const i=W.useRef(e);i.current=e,W.useEffect(()=>{const s=!e.disabled&&i.current.subject.subscribe({next:i.current.next});return()=>{s&&s.unsubscribe()}},[e.disabled])}var P=e=>typeof e=="string",At=(e,i,s,o,r)=>P(e)?(o&&i.watch.add(e),f(s,e,r)):Array.isArray(e)?e.map(a=>(o&&i.watch.add(a),f(s,a))):(o&&(i.watchAll=!0),s),_t=e=>{const i=e.constructor&&e.constructor.prototype;return E(i)&&i.hasOwnProperty("isPrototypeOf")},Se=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function J(e){let i;const s=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(Se&&(e instanceof Blob||e instanceof FileList))&&(s||E(e)))if(i=s?[]:{},!Array.isArray(e)&&!_t(e))i=e;else for(const o in e)i[o]=J(e[o]);else return e;return i}var Vt=(e,i,s,o,r)=>i?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[o]:r||!0}}:{},Oe=e=>/^\w*$/.test(e),Je=e=>le(e.replace(/["|']|\]/g,"").split(/\.|\[/));function V(e,i,s){let o=-1;const r=Oe(i)?[i]:Je(i),a=r.length,h=a-1;for(;++o<a;){const g=r[o];let S=s;if(o!==h){const _=e[g];S=E(_)||Array.isArray(_)?_:isNaN(+r[o+1])?{}:[]}e[g]=S,e=e[g]}return e}const Ee=(e,i,s)=>{for(const o of s||Object.keys(e)){const r=f(e,o);if(r){const{_f:a,...h}=r;if(a&&i(a.name)){if(a.ref.focus){a.ref.focus();break}else if(a.refs&&a.refs[0].focus){a.refs[0].focus();break}}else E(h)&&Ee(h,i)}}};var Pe=e=>({isOnSubmit:!e||e===M.onSubmit,isOnBlur:e===M.onBlur,isOnChange:e===M.onChange,isOnAll:e===M.all,isOnTouch:e===M.onTouched}),qe=(e,i,s)=>!s&&(i.watchAll||i.watch.has(e)||[...i.watch].some(o=>e.startsWith(o)&&/^\.\w+/.test(e.slice(o.length)))),wt=(e,i,s)=>{const o=le(f(e,s));return V(o,"root",i[s]),V(e,s,o),e},ee=e=>typeof e=="boolean",Ce=e=>e.type==="file",te=e=>typeof e=="function",fe=e=>{if(!Se)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},ce=e=>P(e)||W.isValidElement(e),Le=e=>e.type==="radio",de=e=>e instanceof RegExp;const je={value:!1,isValid:!1},He={value:!0,isValid:!0};var Qe=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!D(e[0].attributes.value)?D(e[0].value)||e[0].value===""?He:{value:e[0].value,isValid:!0}:He:je}return je};const We={isValid:!1,value:null};var Xe=e=>Array.isArray(e)?e.reduce((i,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:i,We):We;function $e(e,i,s="validate"){if(ce(e)||Array.isArray(e)&&e.every(ce)||ee(e)&&!e)return{type:s,message:ce(e)?e:"",ref:i}}var Y=e=>E(e)&&!de(e)?e:{value:e,message:""},Ke=async(e,i,s,o,r)=>{const{ref:a,refs:h,required:g,maxLength:S,minLength:_,min:$,max:X,pattern:k,validate:v,name:N,valueAsNumber:ge,mount:oe,disabled:ve}=e._f,b=f(i,N);if(!oe||ve)return{};const p=h?h[0]:a,q=A=>{o&&p.reportValidity&&(p.setCustomValidity(ee(A)?"":A||""),p.reportValidity())},O={},re=Le(a),se=ae(a),be=re||se,B=(ge||Ce(a))&&D(a.value)&&D(b)||fe(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,z=Vt.bind(null,N,s,O),j=(A,x,F,T=H.maxLength,R=H.minLength)=>{const I=A?x:F;O[N]={type:A?T:R,message:I,ref:a,...z(A?T:R,I)}};if(r?!Array.isArray(b)||!b.length:g&&(!be&&(B||L(b))||ee(b)&&!b||se&&!Qe(h).isValid||re&&!Xe(h).isValid)){const{value:A,message:x}=ce(g)?{value:!!g,message:g}:Y(g);if(A&&(O[N]={type:H.required,message:x,ref:p,...z(H.required,x)},!s))return q(x),O}if(!B&&(!L($)||!L(X))){let A,x;const F=Y(X),T=Y($);if(!L(b)&&!isNaN(b)){const R=a.valueAsNumber||b&&+b;L(F.value)||(A=R>F.value),L(T.value)||(x=R<T.value)}else{const R=a.valueAsDate||new Date(b),I=ne=>new Date(new Date().toDateString()+" "+ne),G=a.type=="time",ie=a.type=="week";P(F.value)&&b&&(A=G?I(b)>I(F.value):ie?b>F.value:R>new Date(F.value)),P(T.value)&&b&&(x=G?I(b)<I(T.value):ie?b<T.value:R<new Date(T.value))}if((A||x)&&(j(!!A,F.message,T.message,H.max,H.min),!s))return q(O[N].message),O}if((S||_)&&!B&&(P(b)||r&&Array.isArray(b))){const A=Y(S),x=Y(_),F=!L(A.value)&&b.length>A.value,T=!L(x.value)&&b.length<x.value;if((F||T)&&(j(F,A.message,x.message),!s))return q(O[N].message),O}if(k&&!B&&P(b)){const{value:A,message:x}=Y(k);if(de(A)&&!b.match(A)&&(O[N]={type:H.pattern,message:x,ref:a,...z(H.pattern,x)},!s))return q(x),O}if(v){if(te(v)){const A=await v(b,i),x=$e(A,p);if(x&&(O[N]={...x,...z(H.validate,x.message)},!s))return q(x.message),O}else if(E(v)){let A={};for(const x in v){if(!U(A)&&!s)break;const F=$e(await v[x](b,i),p,x);F&&(A={...F,...z(x,F.message)},q(F.message),s&&(O[N]=A))}if(!U(A)&&(O[N]={ref:p,...A},!s))return O}}return q(!0),O};function Ft(e,i){const s=i.slice(0,-1).length;let o=0;for(;o<s;)e=D(e)?o++:e[i[o++]];return e}function mt(e){for(const i in e)if(!D(e[i]))return!1;return!0}function C(e,i){const s=Array.isArray(i)?i:Oe(i)?[i]:Je(i),o=s.length===1?e:Ft(e,s),r=s.length-1,a=s[r];return o&&delete o[a],r!==0&&(E(o)&&U(o)||Array.isArray(o)&&mt(o))&&C(e,s.slice(0,-1)),e}function Fe(){let e=[];return{get observers(){return e},next:r=>{for(const a of e)a.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter(a=>a!==r)}}),unsubscribe:()=>{e=[]}}}var ye=e=>L(e)||!Ge(e);function Q(e,i){if(ye(e)||ye(i))return e===i;if(Z(e)&&Z(i))return e.getTime()===i.getTime();const s=Object.keys(e),o=Object.keys(i);if(s.length!==o.length)return!1;for(const r of s){const a=e[r];if(!o.includes(r))return!1;if(r!=="ref"){const h=i[r];if(Z(a)&&Z(h)||E(a)&&E(h)||Array.isArray(a)&&Array.isArray(h)?!Q(a,h):a!==h)return!1}}return!0}var Ye=e=>e.type==="select-multiple",Dt=e=>Le(e)||ae(e),me=e=>fe(e)&&e.isConnected,Ze=e=>{for(const i in e)if(te(e[i]))return!0;return!1};function he(e,i={}){const s=Array.isArray(e);if(E(e)||s)for(const o in e)Array.isArray(e[o])||E(e[o])&&!Ze(e[o])?(i[o]=Array.isArray(e[o])?[]:{},he(e[o],i[o])):L(e[o])||(i[o]=!0);return i}function et(e,i,s){const o=Array.isArray(e);if(E(e)||o)for(const r in e)Array.isArray(e[r])||E(e[r])&&!Ze(e[r])?D(i)||ye(s[r])?s[r]=Array.isArray(e[r])?he(e[r],[]):{...he(e[r])}:et(e[r],L(i)?{}:i[r],s[r]):Q(e[r],i[r])?delete s[r]:s[r]=!0;return s}var De=(e,i)=>et(e,i,he(i)),tt=(e,{valueAsNumber:i,valueAsDate:s,setValueAs:o})=>D(e)?e:i?e===""?NaN:e&&+e:s&&P(e)?new Date(e):o?o(e):e;function ke(e){const i=e.ref;if(!(e.refs?e.refs.every(s=>s.disabled):i.disabled))return Ce(i)?i.files:Le(i)?Xe(e.refs).value:Ye(i)?[...i.selectedOptions].map(({value:s})=>s):ae(i)?Qe(e.refs).value:tt(D(i.value)?e.ref.value:i.value,e)}var kt=(e,i,s,o)=>{const r={};for(const a of e){const h=f(i,a);h&&V(r,a,h._f)}return{criteriaMode:s,names:[...e],fields:r,shouldUseNativeValidation:o}},ue=e=>D(e)?e:de(e)?e.source:E(e)?de(e.value)?e.value.source:e.value:e,Et=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ze(e,i,s){const o=f(e,s);if(o||Oe(s))return{error:o,name:s};const r=s.split(".");for(;r.length;){const a=r.join("."),h=f(i,a),g=f(e,a);if(h&&!Array.isArray(h)&&s!==a)return{name:s};if(g&&g.type)return{name:a,error:g};r.pop()}return{name:s}}var St=(e,i,s,o,r)=>r.isOnAll?!1:!s&&r.isOnTouch?!(i||e):(s?o.isOnBlur:r.isOnBlur)?!e:(s?o.isOnChange:r.isOnChange)?e:!0,Ot=(e,i)=>!le(f(e,i)).length&&C(e,i);const Ct={mode:M.onSubmit,reValidateMode:M.onChange,shouldFocusError:!0};function Lt(e={},i){let s={...Ct,...e};const o=e.resetOptions&&e.resetOptions.keepDirtyValues;let r={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},h=E(s.defaultValues)||E(s.values)?J(s.defaultValues||s.values)||{}:{},g=s.shouldUnregister?{}:J(h),S={action:!1,mount:!1,watch:!1},_={mount:new Set,unMount:new Set,array:new Set,watch:new Set},$,X=0;const k={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={watch:Fe(),array:Fe(),state:Fe()},N=Pe(s.mode),ge=Pe(s.reValidateMode),oe=s.criteriaMode===M.all,ve=t=>n=>{clearTimeout(X),X=window.setTimeout(t,n)},b=async t=>{if(k.isValid||t){const n=s.resolver?U((await B()).errors):await j(a,!0);n!==r.isValid&&v.state.next({isValid:n})}},p=t=>k.isValidating&&v.state.next({isValidating:t}),q=(t,n=[],u,c,d=!0,l=!0)=>{if(c&&u){if(S.action=!0,l&&Array.isArray(f(a,t))){const y=u(f(a,t),c.argA,c.argB);d&&V(a,t,y)}if(l&&Array.isArray(f(r.errors,t))){const y=u(f(r.errors,t),c.argA,c.argB);d&&V(r.errors,t,y),Ot(r.errors,t)}if(k.touchedFields&&l&&Array.isArray(f(r.touchedFields,t))){const y=u(f(r.touchedFields,t),c.argA,c.argB);d&&V(r.touchedFields,t,y)}k.dirtyFields&&(r.dirtyFields=De(h,g)),v.state.next({name:t,isDirty:x(t,n),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else V(g,t,n)},O=(t,n)=>{V(r.errors,t,n),v.state.next({errors:r.errors})},re=(t,n,u,c)=>{const d=f(a,t);if(d){const l=f(g,t,D(u)?f(h,t):u);D(l)||c&&c.defaultChecked||n?V(g,t,n?l:ke(d._f)):R(t,l),S.mount&&b()}},se=(t,n,u,c,d)=>{let l=!1,y=!1;const m={name:t};if(!u||c){k.isDirty&&(y=r.isDirty,r.isDirty=m.isDirty=x(),l=y!==m.isDirty);const w=Q(f(h,t),n);y=f(r.dirtyFields,t),w?C(r.dirtyFields,t):V(r.dirtyFields,t,!0),m.dirtyFields=r.dirtyFields,l=l||k.dirtyFields&&y!==!w}if(u){const w=f(r.touchedFields,t);w||(V(r.touchedFields,t,u),m.touchedFields=r.touchedFields,l=l||k.touchedFields&&w!==u)}return l&&d&&v.state.next(m),l?m:{}},be=(t,n,u,c)=>{const d=f(r.errors,t),l=k.isValid&&ee(n)&&r.isValid!==n;if(e.delayError&&u?($=ve(()=>O(t,u)),$(e.delayError)):(clearTimeout(X),$=null,u?V(r.errors,t,u):C(r.errors,t)),(u?!Q(d,u):d)||!U(c)||l){const y={...c,...l&&ee(n)?{isValid:n}:{},errors:r.errors,name:t};r={...r,...y},v.state.next(y)}p(!1)},B=async t=>await s.resolver(g,s.context,kt(t||_.mount,a,s.criteriaMode,s.shouldUseNativeValidation)),z=async t=>{const{errors:n}=await B();if(t)for(const u of t){const c=f(n,u);c?V(r.errors,u,c):C(r.errors,u)}else r.errors=n;return n},j=async(t,n,u={valid:!0})=>{for(const c in t){const d=t[c];if(d){const{_f:l,...y}=d;if(l){const m=_.array.has(l.name),w=await Ke(d,g,oe,s.shouldUseNativeValidation,m);if(w[l.name]&&(u.valid=!1,n))break;!n&&(f(w,l.name)?m?wt(r.errors,w,l.name):V(r.errors,l.name,w[l.name]):C(r.errors,l.name))}y&&await j(y,n,u)}}return u.valid},A=()=>{for(const t of _.unMount){const n=f(a,t);n&&(n._f.refs?n._f.refs.every(u=>!me(u)):!me(n._f.ref))&&xe(t)}_.unMount=new Set},x=(t,n)=>(t&&n&&V(g,t,n),!Q(Te(),h)),F=(t,n,u)=>At(t,_,{...S.mount?g:D(n)?h:P(t)?{[t]:n}:n},u,n),T=t=>le(f(S.mount?g:h,t,e.shouldUnregister?f(h,t,[]):[])),R=(t,n,u={})=>{const c=f(a,t);let d=n;if(c){const l=c._f;l&&(!l.disabled&&V(g,t,tt(n,l)),d=fe(l.ref)&&L(n)?"":n,Ye(l.ref)?[...l.ref.options].forEach(y=>y.selected=d.includes(y.value)):l.refs?ae(l.ref)?l.refs.length>1?l.refs.forEach(y=>(!y.defaultChecked||!y.disabled)&&(y.checked=Array.isArray(d)?!!d.find(m=>m===y.value):d===y.value)):l.refs[0]&&(l.refs[0].checked=!!d):l.refs.forEach(y=>y.checked=y.value===d):Ce(l.ref)?l.ref.value="":(l.ref.value=d,l.ref.type||v.watch.next({name:t})))}(u.shouldDirty||u.shouldTouch)&&se(t,d,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&ne(t)},I=(t,n,u)=>{for(const c in n){const d=n[c],l=`${t}.${c}`,y=f(a,l);(_.array.has(t)||!ye(d)||y&&!y._f)&&!Z(d)?I(l,d,u):R(l,d,u)}},G=(t,n,u={})=>{const c=f(a,t),d=_.array.has(t),l=J(n);V(g,t,l),d?(v.array.next({name:t,values:g}),(k.isDirty||k.dirtyFields)&&u.shouldDirty&&v.state.next({name:t,dirtyFields:De(h,g),isDirty:x(t,l)})):c&&!c._f&&!L(l)?I(t,l,u):R(t,l,u),qe(t,_)&&v.state.next({}),v.watch.next({name:t}),!S.mount&&i()},ie=async t=>{const n=t.target;let u=n.name;const c=f(a,u),d=()=>n.type?ke(c._f):yt(t);if(c){let l,y;const m=d(),w=t.type===Ie.BLUR||t.type===Ie.FOCUS_OUT,ot=!Et(c._f)&&!s.resolver&&!f(r.errors,u)&&!c._f.deps||St(w,f(r.touchedFields,u),r.isSubmitted,ge,N),_e=qe(u,_,w);V(g,u,m),w?(c._f.onBlur&&c._f.onBlur(t),$&&$(0)):c._f.onChange&&c._f.onChange(t);const Ve=se(u,m,w,!1),ct=!U(Ve)||_e;if(!w&&v.watch.next({name:u,type:t.type}),ot)return k.isValid&&b(),ct&&v.state.next({name:u,..._e?{}:Ve});if(!w&&_e&&v.state.next({}),p(!0),s.resolver){const{errors:Me}=await B([u]),ft=ze(r.errors,a,u),Be=ze(Me,a,ft.name||u);l=Be.error,u=Be.name,y=U(Me)}else l=(await Ke(c,g,oe,s.shouldUseNativeValidation))[u],l?y=!1:k.isValid&&(y=await j(a,!0));c._f.deps&&ne(c._f.deps),be(u,y,l,Ve)}},ne=async(t,n={})=>{let u,c;const d=we(t);if(p(!0),s.resolver){const l=await z(D(t)?t:d);u=U(l),c=t?!d.some(y=>f(l,y)):u}else t?(c=(await Promise.all(d.map(async l=>{const y=f(a,l);return await j(y&&y._f?{[l]:y}:y)}))).every(Boolean),!(!c&&!r.isValid)&&b()):c=u=await j(a);return v.state.next({...!P(t)||k.isValid&&u!==r.isValid?{}:{name:t},...s.resolver||!t?{isValid:u}:{},errors:r.errors,isValidating:!1}),n.shouldFocus&&!c&&Ee(a,l=>l&&f(r.errors,l),t?d:_.mount),c},Te=t=>{const n={...h,...S.mount?g:{}};return D(t)?n:P(t)?f(n,t):t.map(u=>f(n,u))},Ne=(t,n)=>({invalid:!!f((n||r).errors,t),isDirty:!!f((n||r).dirtyFields,t),isTouched:!!f((n||r).touchedFields,t),error:f((n||r).errors,t)}),rt=t=>{t&&we(t).forEach(n=>C(r.errors,n)),v.state.next({errors:t?r.errors:{}})},st=(t,n,u)=>{const c=(f(a,t,{_f:{}})._f||{}).ref;V(r.errors,t,{...n,ref:c}),v.state.next({name:t,errors:r.errors,isValid:!1}),u&&u.shouldFocus&&c&&c.focus&&c.focus()},it=(t,n)=>te(t)?v.watch.subscribe({next:u=>t(F(void 0,n),u)}):F(t,n,!0),xe=(t,n={})=>{for(const u of t?we(t):_.mount)_.mount.delete(u),_.array.delete(u),f(a,u)&&(n.keepValue||(C(a,u),C(g,u)),!n.keepError&&C(r.errors,u),!n.keepDirty&&C(r.dirtyFields,u),!n.keepTouched&&C(r.touchedFields,u),!s.shouldUnregister&&!n.keepDefaultValue&&C(h,u));v.watch.next({}),v.state.next({...r,...n.keepDirty?{isDirty:x()}:{}}),!n.keepIsValid&&b()},Ae=(t,n={})=>{let u=f(a,t);const c=ee(n.disabled);return V(a,t,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:t}},name:t,mount:!0,...n}}),_.mount.add(t),u?c&&V(g,t,n.disabled?void 0:f(g,t,ke(u._f))):re(t,!0,n.value),{...c?{disabled:n.disabled}:{},...s.shouldUseNativeValidation?{required:!!n.required,min:ue(n.min),max:ue(n.max),minLength:ue(n.minLength),maxLength:ue(n.maxLength),pattern:ue(n.pattern)}:{},name:t,onChange:ie,onBlur:ie,ref:d=>{if(d){Ae(t,n),u=f(a,t);const l=D(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,y=Dt(l),m=u._f.refs||[];if(y?m.find(w=>w===l):l===u._f.ref)return;V(a,t,{_f:{...u._f,...y?{refs:[...m.filter(me),l,...Array.isArray(f(h,t))?[{}]:[]],ref:{type:l.type,name:t}}:{ref:l}}}),re(t,!1,void 0,l)}else u=f(a,t,{}),u._f&&(u._f.mount=!1),(s.shouldUnregister||n.shouldUnregister)&&!(gt(_.array,t)&&S.action)&&_.unMount.add(t)}}},Re=()=>s.shouldFocusError&&Ee(a,t=>t&&f(r.errors,t),_.mount),nt=(t,n)=>async u=>{u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let c=J(g);if(v.state.next({isSubmitting:!0}),s.resolver){const{errors:d,values:l}=await B();r.errors=d,c=l}else await j(a);C(r.errors,"root"),U(r.errors)?(v.state.next({errors:{}}),await t(c,u)):(n&&await n({...r.errors},u),Re()),v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(r.errors),submitCount:r.submitCount+1,errors:r.errors})},ut=(t,n={})=>{f(a,t)&&(D(n.defaultValue)?G(t,f(h,t)):(G(t,n.defaultValue),V(h,t,n.defaultValue)),n.keepTouched||C(r.touchedFields,t),n.keepDirty||(C(r.dirtyFields,t),r.isDirty=n.defaultValue?x(t,f(h,t)):x()),n.keepError||(C(r.errors,t),k.isValid&&b()),v.state.next({...r}))},Ue=(t,n={})=>{const u=t||h,c=J(u),d=t&&!U(t)?c:h;if(n.keepDefaultValues||(h=u),!n.keepValues){if(n.keepDirtyValues||o)for(const l of _.mount)f(r.dirtyFields,l)?V(d,l,f(g,l)):G(l,f(d,l));else{if(Se&&D(t))for(const l of _.mount){const y=f(a,l);if(y&&y._f){const m=Array.isArray(y._f.refs)?y._f.refs[0]:y._f.ref;if(fe(m)){const w=m.closest("form");if(w){w.reset();break}}}}a={}}g=e.shouldUnregister?n.keepDefaultValues?J(h):{}:c,v.array.next({values:d}),v.watch.next({values:d})}_={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!S.mount&&i(),S.mount=!k.isValid||!!n.keepIsValid,S.watch=!!e.shouldUnregister,v.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!!(n.keepDefaultValues&&!Q(t,h)),isSubmitted:n.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&t?De(h,t):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},pe=(t,n)=>Ue(te(t)?t(g):t,n),at=(t,n={})=>{const u=f(a,t),c=u&&u._f;if(c){const d=c.refs?c.refs[0]:c.ref;d.focus&&(d.focus(),n.shouldSelect&&d.select())}},lt=t=>{r={...r,...t}};return te(s.defaultValues)&&s.defaultValues().then(t=>{pe(t,s.resetOptions),v.state.next({isLoading:!1})}),{control:{register:Ae,unregister:xe,getFieldState:Ne,_executeSchema:B,_focusError:Re,_getWatch:F,_getDirty:x,_updateValid:b,_removeUnmounted:A,_updateFieldArray:q,_getFieldArray:T,_reset:Ue,_updateFormState:lt,_subjects:v,_proxyFormState:k,get _fields(){return a},get _formValues(){return g},get _stateFlags(){return S},set _stateFlags(t){S=t},get _defaultValues(){return h},get _names(){return _},set _names(t){_=t},get _formState(){return r},set _formState(t){r=t},get _options(){return s},set _options(t){s={...s,...t}}},trigger:ne,register:Ae,handleSubmit:nt,watch:it,setValue:G,getValues:Te,reset:pe,resetField:ut,clearErrors:rt,unregister:xe,setError:st,setFocus:at,getFieldState:Ne}}function Tt(e={}){const i=W.useRef(),[s,o]=W.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:te(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...Lt(e,()=>o(a=>({...a}))),formState:s});const r=i.current.control;return r._options=e,xt({subject:r._subjects.state,next:a=>{bt(a,r._proxyFormState,r._updateFormState,!0)&&o({...r._formState})}}),W.useEffect(()=>{r._stateFlags.mount||(r._updateValid(),r._stateFlags.mount=!0),r._stateFlags.watch&&(r._stateFlags.watch=!1,r._subjects.state.next({})),r._removeUnmounted()}),W.useEffect(()=>{e.values&&!Q(e.values,r._defaultValues)&&r._reset(e.values,r._options.resetOptions)},[e.values,r]),W.useEffect(()=>{s.submitCount&&r._focusError()},[r,s.submitCount]),i.current.formState=vt(s,r),i.current}const Ut=({defaultValues:e={},formNode:i,onSubmit:s})=>{const{handleSubmit:o,register:r,formState:a}=Tt({defaultValues:e});return K.jsx("form",{onSubmit:o(s),children:i({register:r,state:a})})},pt=({...e})=>{const i=((e==null?void 0:e.className)||"").concat(" block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer");return K.jsx("input",{...e.register||{},className:i,...e})},Mt=({message:e})=>e?K.jsx("span",{className:"text-red-500 text-sm",children:e}):K.jsx(K.Fragment,{});export{Rt as B,Mt as E,Ut as F,pt as I};
